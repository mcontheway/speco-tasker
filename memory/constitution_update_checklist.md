# 宪法更新检查清单

在修改宪法（`/memory/constitution.md`）时，确保所有依赖文件都更新以保持一致性。

## 需要更新的模板

### 添加/修改任何文章时：

- [ ] /templates/plan-template.md - 更新宪法检查部分
- [ ] /templates/spec-template.md - 如果需求/范围受影响，则更新
- [ ] /templates/tasks-template.md - 如果需要新的任务类型，则更新
- [ ] /.claude/commands/plan.md - 如果规划流程发生变化，则更新
- [ ] /.claude/commands/tasks.md - 如果任务生成受影响则更新
- [ ] /CLAUDE.md - 更新运行时开发指南

### 特定文章的更新：

#### 第一项（以库为先）：

- [ ] 确保模板强调库的创建
- [ ] 更新 CLI 命令示例
- [ ] 添加 llms.txt 文档要求

#### 第二部分（CLI 界面）：

- [ ] 在模板中更新 CLI 标志要求
- [ ] 添加文本 I/O 协议提醒

#### 第三部分（先测试）：

- [ ] 更新所有模板中的测试顺序
- [ ] 强调 TDD 要求
- [ ] 添加测试批准门

#### 第四部分（集成测试）：

- [ ] 列出集成测试触发器
- [ ] 更新测试类型优先级
- [ ] 添加实际依赖需求

#### 第五部分（可观察性）：

- [ ] 为模板添加日志需求
- [ ] 包含多层日志流
- [ ] 更新性能监控部分

#### 第六条（版本控制）：

- [ ] 添加版本增量提醒
- [ ] 包含破坏性变更流程
- [ ] 更新迁移需求

#### 第七条（简洁性）：

- [ ] 更新项目数量限制
- [ ] 添加模式禁止示例
- [ ] 包含 YAGNI 提醒

## 验证步骤

1.  **在提交宪法变更前：**
    
    - [ ] 所有模板都引用新要求
    - [ ] 示例已更新以匹配新规则
    - [ ] 文档之间没有矛盾
    
2.  **更新模板后：**
    
    - [ ] 运行一个示例实施计划
    - [ ] 验证所有宪法要求已解决
    - [ ] 检查模板是否自包含（无需宪法即可阅读）
    
3.  **版本跟踪：**
    
    - [ ] 更新宪法版本号
    - [ ] 注意模板页脚中的版本号
    - [ ] 向宪法历史添加修订案
    

## 常见错误

留意这些经常被遗忘的更新：

*   命令文档 (`/commands/*.md`)
*   模板中的清单项
*   示例代码/命令
*   特定领域的变体（网页与移动端与命令行界面）
*   文档之间的交叉引用

## 模板同步状态

上次同步检查：2025-07-16

*   宪法版本：2.1.1
*   模板对齐：❌（缺少版本控制、可观察性细节）

* * *

*这份清单确保宪法原则在所有项目文档中始终得到一致应用。*