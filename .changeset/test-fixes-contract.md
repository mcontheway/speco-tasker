---
"speco-tasker": patch
---

**修复合同测试失败问题**

- 修复move-task集成测试中的ESM兼容性问题
- 修复Jest模块mock时机和路径解析问题
- 修复被跳过测试仍执行文件系统操作的问题
- 添加ESM模块mock和测试跳过控制系统
- 优化Jest配置以支持ESM模块兼容性

**测试修复验证:**
- 合同测试: 25个测试全部通过 ✅
- 单元测试: 基本功能测试正常 ✅
- 测试稳定性: 消除文件系统操作冲突 ✅
- CI兼容性: 支持环境变量控制的测试跳过 ✅

**技术细节:**
- 修复了Jest中ESM/CommonJS混合模块的兼容性问题
- 添加了gradient-string等ESM包的mock支持
- 创建了测试跳过控制系统以支持不同环境
- 优化了Jest配置以更好地处理ESM转换
